{% extends "base.html" %}

{% block title %}Provider bearbeiten - OctoDNS GUI{% endblock %}

{% block content %}
<div class="card">
    <h2>Provider bearbeiten</h2>

    <form method="POST">
        <div class="form-group">
            <label for="name">Name *</label>
            <input type="text" id="name" name="name" required
                   value="{{ provider.name }}" style="width: 100%;">
        </div>

        <div class="form-group">
            <label>Provider-Typ</label>
            <div style="padding: 8px 12px; background: var(--divider-color); border-radius: 4px;">
                {% if type_info %}
                    {{ type_info.name }}
                    {% if type_info.is_source %}
                        <span class="badge badge-info">Source</span>
                    {% else %}
                        <span class="badge badge-success">Target</span>
                    {% endif %}
                    {% if type_info.installed_version %}
                        <span class="badge badge-secondary">v{{ type_info.installed_version }}</span>
                    {% endif %}
                {% else %}
                    <code>{{ provider.provider_type }}</code>
                {% endif %}
            </div>
            <p style="font-size: 12px; color: var(--secondary-text-color); margin-top: 4px;">
                Der Provider-Typ kann nicht ge√§ndert werden.
            </p>
        </div>

        {% if type_info %}
        <div style="margin-top: 16px;">
            {% include "providers/_type_fields.html" with context %}
        </div>
        {% endif %}

        <div class="actions">
            <button type="submit" class="btn">Speichern</button>
            <a href="{{ url_for('providers.index') }}" class="btn btn-secondary">Abbrechen</a>
        </div>
    </form>
</div>
{% endblock %}
